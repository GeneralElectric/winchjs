{"version":3,"file":"winch.min.js","sources":["../files/winch.js","../files/winch-throttle.js","../files/winch-factory.js","../files/winch-filter.js","../files/winch-master.js","../files/winch-scroll.js","../files/winch-img.js"],"names":["angular","module","service","$q","$timeout","isPending","fn","pending","hasOwnProperty","clearPending","getPending","storePending","defer","throttle","delay","deferred","parseInt","promise","resolve","reject","factory","API","_img","registerImg","URL","load","validate","length","loaded","fnLoad","push","fnValidate","loadImage","index","triggerValidation","imageIndex","imageKeys","validationIndex","validationLength","Object","keys","setWindowView","height","width","windowWidth","windowHeight","getWindowWidth","getWindowHeight","getMasterBox","top","bottom","left","right","vOffset","hOffset","filter","html","addCloseImg","string","search","openRgx","location","indexOf","openTag","substr","closeRgx","ngSrcRgx","closeTag","ngSrcAttr","RegExp","replace","directive","$window","winchFactory","Throttle","restrict","link","scope","elem","attr","innerHeight","innerWidth","elems","window","element","_scrollObjects","winchMaster","split","forEach","selector","document","querySelectorAll","setupScrollers","scrollTarget","on","$on","off","winchScrollTrigger","setup","target","tearDown","selectors","timerRef","e","Error","cancel","$compile","priority","imgUrl","imgLoaded","checkImageTop","image","checkImageBottom","checkImageLeft","checkImageRight","checkImageBiggerThanScreen","img","_isLoaded","addClass","attempt","getImgURL","loadSelf","isVisible","imageBox","boundingBox","windowBox","removeClass","winchImgClass","empty","append","$destroy","getBoundingClientRect","src","imgSrc"],"mappings":"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"}